# –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–ï–†–ï–û–¶–ï–ù–ö–ê –ê–£–î–ò–¢–ê MA5 - –ê–¢–ê–ö–ê –ù–ê –°–û–ë–°–¢–í–ï–ù–ù–´–ï –í–´–í–û–î–´

**–î–∞—Ç–∞:** 2025-11-16
**–°—Ç–∞—Ç—É—Å:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –°–ê–ú–û–ü–†–û–í–ï–†–ö–ê
**–ê–≤—Ç–æ—Ä:** Claude Code (self-attack mode)

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: –ú–û–ô –ü–ï–†–í–û–ù–ê–ß–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –ë–´–õ –ù–ï–ü–û–õ–ù–´–ú

–Ø —Å–¥–µ–ª–∞–ª –≤—ã–≤–æ–¥, —á—Ç–æ "look-ahead bias –û–¢–°–£–¢–°–¢–í–£–ï–¢" –Ω–∞ –æ—Å–Ω–æ–≤–µ **–ü–†–ï–î–ü–û–õ–û–ñ–ï–ù–ò–ô** –æ —Å–µ–º–∞–Ω—Ç–∏–∫–µ,
–∞ –Ω–µ –Ω–∞ **–§–ê–ö–¢–ò–ß–ï–°–ö–û–ô –ü–†–û–í–ï–†–ö–ï** –∫–æ–¥–∞ inference –≤ production.

---

## –ß–¢–û –Ø –ü–û–î–¢–í–ï–†–î–ò–õ (‚úÖ VERIFIED):

### 1. Training Pipeline - –ö–û–†–†–ï–ö–¢–ï–ù

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –æ–±—É—á–µ–Ω–∏–∏:**
```
1. apply_offline_features() ‚Üí –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å ts_ms (–≤—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è –±–∞—Ä–∞)
2. LeakGuard.attach_decision_time() ‚Üí decision_ts = ts_ms + decision_delay_ms
3. LabelBuilder.build() ‚Üí target –æ—Ç decision_ts –¥–æ decision_ts + horizon_ms
```

**–ö–æ–¥ (leakguard.py:39):**
```python
d["decision_ts"] = d[ts_col].astype("int64") + int(self.cfg.decision_delay_ms)
```

**–ö–æ–¥ (labels.py:49-52):**
```python
# –ü—Ä–∞–≤–∏–ª–∞:
#   - t0 = decision_ts          # –ù–ï ts_ms!
#   - t1 = decision_ts + horizon_ms
#   - price0 = –±–ª–∏–∂–∞–π—à–∞—è –≤–ø–µ—Ä—ë–¥ —Ü–µ–Ω–∞ >= t0
#   - price1 = –±–ª–∏–∂–∞–π—à–∞—è –≤–ø–µ—Ä—ë–¥ —Ü–µ–Ω–∞ >= t1
```

**–í—ã–≤–æ–¥:** ‚úÖ Training pipeline –∏—Å–ø–æ–ª—å–∑—É–µ—Ç decision_delay_ms –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### 2. decision_delay_ms –ó–Ω–∞—á–µ–Ω–∏—è - –ü–†–û–í–ï–†–ï–ù–´

**configs/timing.yaml:**
- `MKT_OPEN_NEXT_4H`: decision_delay_ms: **8000** (8 —Å–µ–∫—É–Ω–¥)
- `VWAP_CURRENT_4H`: decision_delay_ms: **30000** (30 —Å–µ–∫—É–Ω–¥)
- `LIMIT_MID_BPS`: decision_delay_ms: **60000** (60 —Å–µ–∫—É–Ω–¥)

**configs/legacy_sim.yaml:**
- decision_delay_ms: **0** ‚ö†Ô∏è (–ë–ï–ó –ó–ê–©–ò–¢–´!)

**–í—ã–≤–æ–¥:** ‚ö†Ô∏è Production –∏—Å–ø–æ–ª—å–∑—É–µ—Ç delay > 0, –ù–û legacy=0 –æ–ø–∞—Å–µ–Ω

---

## –ß–¢–û –Ø **–ù–ï** –ü–†–û–í–ï–†–ò–õ (‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–ï–õ–´):

### 1. ‚ùå INFERENCE TIMING - –ù–ï –ü–†–û–í–ï–†–ï–ù–û!

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –í–û–ü–†–û–°:**
–ö–æ–≥–¥–∞ –∏–º–µ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `update()` –≤ production (service_signal_runner.py)?

**–î–≤–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è:**

#### –°—Ü–µ–Ω–∞—Ä–∏–π A: "End-of-Bar" (–ü–†–ê–í–ò–õ–¨–ù–û) ‚úÖ
```
14:00:00 - –ë–∞—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è
...
17:59:59 - –ë–∞—Ä –µ—â–µ –æ—Ç–∫—Ä—ã—Ç
18:00:00 - –ë–∞—Ä –ó–ê–ö–†–´–í–ê–ï–¢–°–Ø
18:00:00 - update() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å close=P_18:00
18:00:00 - –ü—Ä–∏–∑–Ω–∞–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
18:00:08 - –†–µ—à–µ–Ω–∏–µ (decision_ts = 18:00:00 + 8000ms)
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–ï–¢ look-ahead bias

#### –°—Ü–µ–Ω–∞—Ä–∏–π B: "Intra-Bar" (–û–ü–ê–°–ù–û) ‚ùå
```
14:00:00 - –ë–∞—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è
17:30:00 - update() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–æ–π (–ë–ê–† –ï–©–ï –û–¢–ö–†–´–¢!)
17:30:00 - –ü—Ä–∏–∑–Ω–∞–∫–∏ –≤—ã—á–∏—Å–ª–µ–Ω—ã –Ω–∞ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–º –±–∞—Ä–µ
17:30:08 - –†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ
18:00:00 - –ë–∞—Ä –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å –¥—Ä—É–≥–æ–π —Ü–µ–Ω–æ–π!
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ï–°–¢–¨ forward-looking bias!

**–ú–æ–π —Å—Ç–∞—Ç—É—Å:** ‚ùå –Ø **–ù–ï –ü–†–û–í–ï–†–ò–õ**, –∫–∞–∫–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è!

---

### 2. ‚ùå TRAIN-INFERENCE MISMATCH - –ù–ï –ü–†–û–í–ï–†–ï–ù–û!

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –í–û–ü–†–û–°:**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏ inference –¢–£ –ñ–ï —Å–µ–º–∞–Ω—Ç–∏–∫—É, —á—Ç–æ –∏ training?

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Training: apply_offline_features() –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ó–ê–ö–†–´–¢–´–ï –±–∞—Ä—ã (–∏–∑ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
- Inference: service_signal_runner.py –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¢–ï–ö–£–©–ò–ï —Ü–µ–Ω—ã

**–ï—Å–ª–∏ –µ—Å—Ç—å mismatch:**
- Training: –º–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö –æ—Ç –ó–ê–ö–†–´–¢–´–• –±–∞—Ä–æ–≤
- Inference: –º–æ–¥–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ –æ—Ç –¢–ï–ö–£–©–ò–• (–Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö) —Ü–µ–Ω
- –†–µ–∑—É–ª—å—Ç–∞—Ç: **Distribution shift** + –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π look-ahead –≤ –æ–±—É—á–µ–Ω–∏–∏

**–ú–æ–π —Å—Ç–∞—Ç—É—Å:** ‚ùå –Ø **–ù–ï –ü–†–û–í–ï–†–ò–õ** –∫–æ–¥ inference!

---

### 3. ‚ùå CLOSE vs CURRENT PRICE - –ù–ï –ü–†–û–í–ï–†–ï–ù–û!

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –í–û–ü–†–û–°:**
–ß—Ç–æ —Ç–∞–∫–æ–µ `bar.close` –≤ service_signal_runner.py?

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
1. **close = —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –ó–ê–í–ï–†–®–ï–ù–ù–û–ì–û –±–∞—Ä–∞** ‚Üí –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ
2. **close = —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –ù–ï–ó–ê–í–ï–†–®–ï–ù–ù–û–ì–û –±–∞—Ä–∞** ‚Üí –û–ø–∞—Å–Ω–æ ‚ùå

**–ü—Ä–æ–≤–µ—Ä–∫–∞ timing.yaml:**
```yaml
MKT_OPEN_NEXT_4H:
  decision_mode: CLOSE_TO_OPEN
  decision_delay_ms: 8000
```

**"CLOSE_TO_OPEN" –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç:**
- –†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –ü–û–°–õ–ï –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –±–∞—Ä–∞
- –î–û –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –±–∞—Ä–∞
- –≠—Ç–æ **–ü–†–ê–í–ò–õ–¨–ù–ê–Ø** —Å–µ–º–∞–Ω—Ç–∏–∫–∞!

**–ù–û:** –Ø **–ù–ï –ü–†–û–í–ï–†–ò–õ** –∫–æ–¥, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π CLOSE_TO_OPEN!

---

### 4. ‚ùå DECISION_MODE IMPLEMENTATION - –ù–ï –ü–†–û–í–ï–†–ï–ù–û!

**timing.yaml –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 3 —Ä–µ–∂–∏–º–∞:**
1. `CLOSE_TO_OPEN` - —Ä–µ—à–µ–Ω–∏–µ –º–µ–∂–¥—É –±–∞—Ä–∞–º–∏
2. `INTRA_HOUR_WITH_LATENCY` - —Ä–µ—à–µ–Ω–∏–µ –í–ù–£–¢–†–ò –±–∞—Ä–∞?!
3. `LIMIT_MID_BPS` - ?

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –í–û–ü–†–û–°:**
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `INTRA_HOUR_WITH_LATENCY`? –≠—Ç–æ –∑–≤—É—á–∏—Ç –∫–∞–∫ —Ä–µ—à–µ–Ω–∏–µ –í–û –í–†–ï–ú–Ø –±–∞—Ä–∞!

**–ï—Å–ª–∏ –¥–∞:**
- –ü—Ä–∏–∑–Ω–∞–∫–∏ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –Ω–∞ –ù–ï–ó–ê–í–ï–†–®–ï–ù–ù–û–ú –±–∞—Ä–µ
- –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç forward-looking bias –≤ training!

**–ú–æ–π —Å—Ç–∞—Ç—É—Å:** ‚ùå –Ø **–ù–ï –ü–†–û–í–ï–†–ò–õ** —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —ç—Ç–∏—Ö —Ä–µ–∂–∏–º–æ–≤!

---

## –ú–ê–¢–ï–ú–ê–¢–ò–ß–ï–°–ö–û–ï –î–û–ö–ê–ó–ê–¢–ï–õ–¨–°–¢–í–û –ü–†–û–ë–õ–ï–ú–´

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º **–°—Ü–µ–Ω–∞—Ä–∏–π B** (Intra-Bar):

### Training:
```
–ë–∞—Ä [14:00, 18:00]: P_close = 50000
update() —Å P_close = 50000
SMA_5 = (50000 + 49000 + 48000 + 47000 + 46000) / 5 = 48000
decision_ts = 18:00:00 + 8s
Target = –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –æ—Ç 18:00:08 –¥–æ 18:00:08 + horizon
```

### Inference (–µ—Å–ª–∏ intra-bar):
```
–í—Ä–µ–º—è 17:30:00 (–±–∞—Ä –µ—â–µ –æ—Ç–∫—Ä—ã—Ç!)
P_current = 49500 (–ù–ï —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞!)
update() —Å P_current = 49500
SMA_5 = (49500 + 49000 + 48000 + 47000 + 46000) / 5 = 47900  # –î–†–£–ì–û–ï!
decision_ts = 17:30:00 + 8s = 17:30:08
–†–µ—à–µ–Ω–∏–µ –≤ 17:30:08, –∫–æ–≥–¥–∞ –±–∞—Ä –∑–∞–∫—Ä–æ–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ 18:00:00!
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. **Distribution shift**: SMA_5 = 48000 vs 47900
2. **Forward-looking –≤ training**: –ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ü–µ–Ω–µ, –∫–æ—Ç–æ—Ä–∞—è –≤ 17:30 –µ—â–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞!
3. **Train-inference mismatch**: –†–∞–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö

---

## –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –í–û–ü–†–û–°–´ –ë–ï–ó –û–¢–í–ï–¢–ê

1. ‚ùå –ö–æ–≥–¥–∞ –¢–û–ß–ù–û –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è update() –≤ production?
2. ‚ùå –ß—Ç–æ —Ç–∞–∫–æ–µ bar.close - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –∏–ª–∏ —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞?
3. ‚ùå –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω CLOSE_TO_OPEN mode?
4. ‚ùå –ß—Ç–æ –¥–µ–ª–∞–µ—Ç INTRA_HOUR_WITH_LATENCY?
5. ‚ùå –ï—Å—Ç—å –ª–∏ train-inference mismatch?
6. ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ decision_delay_ms –≤ inference —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤ training?

---

## –ü–ï–†–ï–°–ú–û–¢–† –ú–û–ò–• –í–´–í–û–î–û–í

### –ú–æ–π –ü–ï–†–í–û–ù–ê–ß–ê–õ–¨–ù–´–ô –≤—ã–≤–æ–¥:
> ‚úÖ "Look-ahead bias –û–¢–°–£–¢–°–¢–í–£–ï–¢ - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ"

### –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–ï–†–ï–û–¶–ï–ù–ö–ê:
> ‚ö†Ô∏è "Look-ahead bias –ú–û–ñ–ï–¢ –û–¢–°–£–¢–°–¢–í–û–í–ê–¢–¨ **–ï–°–õ–ò**:
> 1. update() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ü–û–°–õ–ï –∑–∞–∫—Ä—ã—Ç–∏—è –±–∞—Ä–∞ (–ù–ï –ü–†–û–í–ï–†–ï–ù–û)
> 2. bar.close = —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –ó–ê–í–ï–†–®–ï–ù–ù–û–ì–û –±–∞—Ä–∞ (–ù–ï –ü–†–û–í–ï–†–ï–ù–û)
> 3. Inference –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ —Å–µ–º–∞–Ω—Ç–∏–∫—É, —á—Ç–æ training (–ù–ï –ü–†–û–í–ï–†–ï–ù–û)
> 4. decision_delay_ms –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ (–ß–ê–°–¢–ò–ß–ù–û –ü–†–û–í–ï–†–ï–ù–û)
>
> **–ë–ï–ó –ü–†–û–í–ï–†–ö–ò INFERENCE –ö–û–î, –í–´–í–û–î –ü–†–ï–ñ–î–ï–í–†–ï–ú–ï–ù–ù–´–ô!**"

---

## –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨

### 1. –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–í–ï–†–ö–ê (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û):
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å service_signal_runner.py - –∫–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è update()
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ bar.close
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é CLOSE_TO_OPEN mode
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é INTRA_HOUR_WITH_LATENCY mode
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å train-inference consistency

### 2. –¢–ï–°–¢–´ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û):
- [ ] Unit test: verify bar timing semantics
- [ ] Integration test: compare training vs inference features
- [ ] Regression test: check for distribution shift

### 3. –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø (–ù–ï–û–ë–•–û–î–ò–ú–û):
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¢–û–ß–ù–£–Æ —Å–µ–º–∞–Ω—Ç–∏–∫—É bar timing
- [ ] –î–æ–±–∞–≤–∏—Ç—å warnings –æ–± –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ intra-bar updates
- [ ] –°–æ–∑–¥–∞—Ç—å checklist –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è look-ahead bias

---

## –§–ò–ù–ê–õ–¨–ù–ê–Ø –û–¶–ï–ù–ö–ê

| –ê—Å–ø–µ–∫—Ç | –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞ |
|--------|---------------------|----------------------|
| Training pipeline | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω | ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–û |
| decision_delay_ms usage | ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–û (–Ω–æ legacy=0!) |
| Inference timing | ‚úÖ –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π | ‚ùå **–ù–ï –ü–†–û–í–ï–†–ï–ù–û!** |
| Train-inference match | ‚úÖ –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –µ—Å—Ç—å | ‚ùå **–ù–ï –ü–†–û–í–ï–†–ï–ù–û!** |
| bar.close —Å–µ–º–∞–Ω—Ç–∏–∫–∞ | ‚úÖ –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ end-of-bar | ‚ùå **–ù–ï –ü–†–û–í–ï–†–ï–ù–û!** |
| OVERALL CONFIDENCE | ‚úÖ –í—ã—Å–æ–∫–∞—è (–û–®–ò–ë–û–ß–ù–û) | ‚ö†Ô∏è **–ù–ò–ó–ö–ê–Ø** |

---

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ú–æ–π –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –±—ã–ª –ù–ï–ü–û–õ–ù–´–ú.**

–Ø —Å–¥–µ–ª–∞–ª –≤—ã–≤–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ training pipeline (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ LeakGuard/LabelBuilder (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤ decision_delay_ms (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
- ‚ùå **–ü–†–ï–î–ü–û–õ–û–ñ–ï–ù–ò–ô** –æ inference (–ù–ï –ü–†–û–í–ï–†–ï–ù–û!)

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:**
> "Training pipeline –∑–∞—â–∏—â–µ–Ω –æ—Ç look-ahead bias –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ decision_delay_ms > 0.
> **–û–î–ù–ê–ö–û** –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ inference –∫–æ–¥–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–±–ª–µ–º.
> –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞."

---

## –î–ï–ô–°–¢–í–ò–Ø

1. **–ù–ï –ö–û–ú–ú–ò–¢–ò–¢–¨** —Ç–µ–∫—É—â–∏–µ –≤—ã–≤–æ–¥—ã –∫–∞–∫ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ
2. **–ü–†–û–í–ï–°–¢–ò** –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É inference –∫–æ–¥–∞
3. **–û–ë–ù–û–í–ò–¢–¨** –æ—Ç—á–µ—Ç —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
4. **–î–û–ë–ê–í–ò–¢–¨** —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ–º–∞–Ω—Ç–∏–∫–∏

---

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.**
**–°—Ç–∞—Ç—É—Å:** üî¥ –¢–†–ï–ë–£–ï–¢–°–Ø –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê

